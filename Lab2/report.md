# Lab2 Experiment Report (OFDM)

## Part1 OFDM ä¿¡å·è§£è°ƒ

### task1.1 å¯¹tx_signal.npy è¿›è¡Œè§£è°ƒ

```python
.....
# 4. BPSK è§£è°ƒ
demod_bits = (data_all.real > 0).astype(np.uint8)

# è¯»å–åŸå§‹æ•°æ®
raw_data = np.load("./Lab2_data/raw_data.npy")

length = min(len(raw_data), len(demod_bits))
raw_data = raw_data[:length]
demod_bits = demod_bits[:length]

# è®¡ç®—è¯¯ç ä¸ªæ•°
num_errors = np.sum(raw_data != demod_bits)

# è®¡ç®—è¯¯ç ç‡
ber = num_errors / length
```
**ç»ˆç«¯è¾“å‡º:**
```
æ¯”ç‰¹é•¿åº¦: 960
é”™è¯¯æ¯”ç‰¹æ•°: 0
æ¯”ç‰¹è¯¯ç ç‡ (BER): 0.000000
```

### task1.2 å¯¹æ¥æ”¶æ•°æ®è¿›è¡Œè§£è°ƒ

**ç»ˆç«¯è¾“å‡º:**
```
OFDMæ•°æ®åŒ…èµ·å§‹ä½ç½®:[39, 2539, 5039, 7539]
find ofdm data pack : 0
æ¯”ç‰¹é•¿åº¦: 960
é”™è¯¯æ¯”ç‰¹æ•°: 12
æ¯”ç‰¹è¯¯ç ç‡ (BER): 1.250000%
find ofdm data pack : 1
æ¯”ç‰¹é•¿åº¦: 960
é”™è¯¯æ¯”ç‰¹æ•°: 12
æ¯”ç‰¹è¯¯ç ç‡ (BER): 1.250000%
find ofdm data pack : 2
æ¯”ç‰¹é•¿åº¦: 960
é”™è¯¯æ¯”ç‰¹æ•°: 25
æ¯”ç‰¹è¯¯ç ç‡ (BER): 2.604167%
find ofdm data pack : 3
æ¯”ç‰¹é•¿åº¦: 960
é”™è¯¯æ¯”ç‰¹æ•°: 9
æ¯”ç‰¹è¯¯ç ç‡ (BER): 0.937500%
```

### task1.3 å¯¹æœªçŸ¥æ•°æ®çš„æ¥æ”¶ä¿¡å·è¿›è¡Œè§£è°ƒ
å…¨éƒ¨çš„è§£è°ƒç»“æœè§10sym_data.npy å’Œ 100sym_data.npy

**recorded_signal_10sym.npy**
**ç»ˆç«¯è¾“å‡º:**
```
data_pack_starts:[688, 1808, 2928, 4048, 5168, 6288, 7408 .........]
find ofdm data pack : 0
æ¯”ç‰¹é•¿åº¦: 480
[0 0 1 1 0 0 1 1 1 0 1 1 0 0 0 0 1 1 1 0]
find ofdm data pack : 1
æ¯”ç‰¹é•¿åº¦: 480
[0 0 1 1 0 0 1 1 1 0 1 1 0 0 0 0 1 1 1 0]
find ofdm data pack : 2
æ¯”ç‰¹é•¿åº¦: 480
[0 0 1 1 0 0 1 1 1 0 1 1 0 0 0 0 1 1 1 0]
find ofdm data pack : 3
æ¯”ç‰¹é•¿åº¦: 480
[0 0 1 1 0 0 1 1 1 0 1 1 0 0 0 0 1 1 1 0]
..............
```

**recorded_signal_100sym.npy**
**ç»ˆç«¯è¾“å‡º:**
```
data_pack_starts:[707, 9027, 17347, 25667, 33987, 42307, 50627, 58947, 67267, 75587, 83907, 92227]
find ofdm data pack : 0
æ¯”ç‰¹é•¿åº¦: 4800
[0 1 0 0 1 1 1 1 1 0 0 1 0 0 1 0 0 1 1 0]
find ofdm data pack : 1
æ¯”ç‰¹é•¿åº¦: 4800
[0 1 0 0 1 1 1 1 1 0 0 1 0 0 1 0 0 1 1 0]
find ofdm data pack : 2
æ¯”ç‰¹é•¿åº¦: 4800
[0 1 0 0 1 1 1 1 1 0 0 1 0 0 1 0 0 1 1 0]
find ofdm data pack : 3
æ¯”ç‰¹é•¿åº¦: 4800
[0 1 0 0 1 1 1 1 1 0 0 1 0 0 1 0 0 1 1 0]
.............
```

## Part2 OFDMä¿¡å·è§£è°ƒæ–¹æ³•çš„åˆ†æ

### task2.1
ç”±LTSæå–å‡ºçš„ä¿¡é“ç‰¹å¾å¦‚å›¾,å¯ä»¥è§‚å¯Ÿåˆ°æœ‰é¢‘ç‡çš„é€‰æ‹©æ€§è¡°è½

![](./pic/plot_task2.1_0.png)

å¦‚å›¾æ˜¯ä¸€ä¸ªå¯¼é¢‘å­è½½æ³¢åœ¨ä¸€ä¸ªæ•°æ®åŒ…å†…æ‰€æœ‰OFDMç¬¦å·çš„ç›¸ä½å˜åŒ–
ç›¸ä½å‘ˆç°â€œå‘¨æœŸæ€§è·³å˜â€,è¡¨æ˜å­˜åœ¨ç´¯ç§¯çš„ç›¸ä½åç§»,ä¸€å®šå‘¨æœŸåç›¸ä½è¶…è¿‡ğœ‹,ä¼šè·³åˆ°âˆ’ğœ‹ï¼Œå†é€æ¸ä¸Šå‡
å¯ä»¥æ¸…æ™°çœ‹åˆ°ï¼Œå®é™…ç›¸ä½ä¸ç†æƒ³å¯¼é¢‘åç¦»äº†å¾ˆå¤š

![](./pic/plot_task2.1_1.png)

å¦‚å›¾æ˜¯ç¬¬1ä¸ª/ç¬¬10ä¸ª/ç¬¬20ä¸ªOFDMç¬¦å·ä¸­, ä½¿ç”¨å¯¼é¢‘ç»˜åˆ¶æ‰€æœ‰å­è½½æ³¢ç›¸ä½çš„çº¿æ€§æ’å€¼å›¾
çº¿æ€§æ’å€¼å›¾å±•ç¤ºäº†å­è½½æ³¢ä¹‹é—´çš„ç›¸ä½æ¸å˜ç‰¹æ€§
æ˜æ˜¾çš„æ–œç‡è¯´æ˜å­˜åœ¨æ®‹ç•™æ—¶é—´åç§»æˆ–é¢‘å
è¿™ç±»çº¿æ€§ç›¸ä½è¯¯å·®åº”è¯¥åœ¨è§£è°ƒå‰ç”¨å¯¼é¢‘æ’å€¼è¿›è¡Œè¡¥å¿
åæœŸç¬¦å·ç›¸ä½æ›´åŠ ç¨³å®šï¼Œè¯´æ˜ CFO/STO è¡¥å¿æ˜¯æœ‰æ•ˆçš„

![](./pic/plot_task2.1_2.png)

å¦‚å›¾æ˜¯BPSKæ˜Ÿåº§å›¾:

![](./pic/plot_task2.1_3.png)

### task2.2
ä»…åœ¨æ­¥éª¤5.2ä¸­ä¼°è®¡æ®‹ç•™CFOï¼Œç»˜åˆ¶ä¿¡é“å‡è¡¡åæ‰€æœ‰OFDMå­è½½æ³¢çš„æ˜Ÿåº§ç‚¹

![](./pic/plot_task2.2.png)

### task2.3
**recorded_signal_10sym.npy**
è·³è¿‡æ­¥éª¤5.2-5.4,ä¸ºrecorded_signal_10sym.npyç»˜åˆ¶ä¿¡é“å‡è¡¡åæ‰€æœ‰OFDMå­è½½æ³¢çš„æ˜Ÿåº§ç‚¹å›¾  

![](./pic/plot_task2.3.1.png)

**recorded_signal_100sym.npy**
è·³è¿‡æ­¥éª¤5.2-5.4, ä¸ºrecorded_signal_100sym.npyç»˜åˆ¶ä¿¡é“å‡è¡¡åæ‰€æœ‰OFDMå­è½½æ³¢æ˜Ÿåº§å›¾

![](./pic/plot_task2.3.2.png)

### task2.4
**recorded_signal_10sym.npy**
è·³è¿‡æ­¥éª¤2å’Œæ­¥éª¤5.2-5.4,ä¸ºrecorded_signal_10sym.npyç»˜åˆ¶ä¿¡é“å‡è¡¡åæ‰€æœ‰OFDMå­è½½æ³¢çš„æ˜Ÿåº§ç‚¹å›¾

![](./pic/plot_task2.4.1.png)

**recorded_signal_100sym.npy**
è·³è¿‡æ­¥éª¤2å’Œæ­¥éª¤5.2-5.4, ä¸ºrecorded_signal_100sym.npyç»˜åˆ¶ä¿¡é“å‡è¡¡åæ‰€æœ‰OFDMå­è½½æ³¢æ˜Ÿåº§å›¾

![](./pic/plot_task2.4.2.png)